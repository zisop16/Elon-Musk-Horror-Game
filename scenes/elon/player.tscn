[gd_scene load_steps=8 format=3 uid="uid://tkllvr4o5did"]

[ext_resource type="Script" uid="uid://dwrikpmcsfiqv" path="res://scripts/player.gd" id="1_hvogv"]
[ext_resource type="PackedScene" uid="uid://bg2ah1m0ryp2v" path="res://scenes/elon/elon_model.tscn" id="2_p3gux"]
[ext_resource type="Script" uid="uid://dnqc0fylmytqi" path="res://scripts/camera_spring.gd" id="3_p3gux"]
[ext_resource type="Script" uid="uid://c3qjwfyfbhg25" path="res://scripts/camera.gd" id="4_7nqbs"]
[ext_resource type="PackedScene" uid="uid://dlo226k12agvr" path="res://scenes/sfx/FootstepPlayer.tscn" id="5_tcv2l"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_p3gux"]
radius = 0.271223
height = 1.75922

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_dju7e"]
radius = 0.271223
height = 1.37375

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("chainsaw_pos", "flashlight_pos", "remote_pos")]
collision_layer = 2
collision_mask = 3
floor_max_angle = 0.872665
floor_snap_length = 0.3
script = ExtResource("1_hvogv")
chainsaw_pos = NodePath("Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D/Chainsaw")
flashlight_pos = NodePath("Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D/Flashlight")
remote_pos = NodePath("Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D/Tv Remote")

[node name="Elon Model" parent="." instance=ExtResource("2_p3gux")]

[node name="Skeleton3D" parent="Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4" index="0"]
bones/1/position = Vector3(0.0106923, 0.946661, -0.0123978)
bones/1/rotation = Quaternion(-0.684498, -0.249501, -0.271168, 0.629031)
bones/2/rotation = Quaternion(0.709258, 0.0320087, 0.0236473, 0.703825)
bones/3/rotation = Quaternion(0.0960834, 0.0816718, -0.0105579, 0.991961)
bones/4/rotation = Quaternion(0.0960833, 0.0816719, -0.0105579, 0.991961)
bones/5/rotation = Quaternion(-0.686999, -0.00868639, -0.00725612, 0.726571)
bones/6/rotation = Quaternion(-0.0372074, 0.00807499, 0.176395, 0.983583)
bones/8/rotation = Quaternion(-0.56145, -0.438806, 0.574538, -0.402652)
bones/9/rotation = Quaternion(0.448214, -0.105929, 0.0141035, 0.887516)
bones/10/rotation = Quaternion(0.0318766, 0.0633634, 0.413874, 0.907567)
bones/12/rotation = Quaternion(0.615315, -0.39327, 0.538466, 0.420454)
bones/13/rotation = Quaternion(0.393197, 0.10852, 0.215577, 0.887213)
bones/14/rotation = Quaternion(0.090657, 0.0102585, -0.357617, 0.929401)
bones/16/rotation = Quaternion(0.0164809, 0.550096, -0.824521, 0.131485)
bones/17/rotation = Quaternion(-0.296088, 0.120501, -0.0442917, 0.946494)
bones/18/rotation = Quaternion(0.567423, -0.03987, -0.0514422, 0.82085)
bones/19/rotation = Quaternion(0.286668, -0.0547906, -0.00728725, 0.956434)
bones/21/rotation = Quaternion(0.00455975, 0.694332, -0.697781, -0.176023)
bones/22/rotation = Quaternion(-0.284507, 0.0693869, -0.0243936, 0.955848)
bones/23/rotation = Quaternion(0.663203, 0.0903644, 0.129485, 0.731594)
bones/24/rotation = Quaternion(0.286238, 0.0725158, -0.0203122, 0.955195)

[node name="BoneAttachment3D" parent="Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D" index="11"]
transform = Transform3D(-0.425012, -0.396032, 0.813955, 0.212908, -0.917721, -0.335348, 0.879793, 0.0307707, 0.474361, -32.6088, 3.15558, -18.2223)

[node name="Flashlight" parent="Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(-0.876426, -0.217629, 0.429552, -0.146225, 0.970201, 0.193199, -0.458798, 0.106513, -0.882132, 6.8796, 9.54946, 7.54433)

[node name="Chainsaw" parent="Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D" index="1"]
transform = Transform3D(12.7064, 16.6696, -3.78977, 14.4785, -7.98324, 13.4287, 9.08906, -10.5869, -16.0933, -21.5935, -6.78769, 61.8683)

[node name="Tv Remote" parent="Elon Model/Sketchfab_model/dfcbea39e7554060b41c433e3ce7ab98_fbx/Object_2/RootNode/Object_4/Skeleton3D/BoneAttachment3D" index="2"]
transform = Transform3D(0.487915, 0.521505, -0.699979, -0.288171, -0.660714, -0.693119, -0.823952, 0.539896, -0.172089, 4.67343, 10.4363, 4.4918)

[node name="AnimationTree" parent="Elon Model" index="2"]
parameters/TimeScale/scale = 1.0

[node name="Standing Box" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.879, -0.01)
visible = false
shape = SubResource("CapsuleShape3D_p3gux")
debug_color = Color(0, 0.6, 0.701961, 1)

[node name="Crouched Box" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.68, -0.005)
visible = false
shape = SubResource("CapsuleShape3D_dju7e")
disabled = true
debug_color = Color(0, 0.6, 0.701961, 1)

[node name="Camera Pivot" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 1.7, 0)
script = ExtResource("3_p3gux")
max_length = 2.0
min_length = 0.5

[node name="Camera Spring" type="SpringArm3D" parent="Camera Pivot"]
collision_mask = 5
spring_length = 2.0

[node name="Camera Target" type="Node3D" parent="Camera Pivot/Camera Spring"]

[node name="Camera3D" type="Camera3D" parent="Camera Pivot" node_paths=PackedStringArray("target")]
script = ExtResource("4_7nqbs")
target = NodePath("../Camera Spring/Camera Target")

[node name="Interaction" type="RayCast3D" parent="Camera Pivot/Camera3D"]
target_position = Vector3(0, 0, -8)
collision_mask = 8

[node name="Standing Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
visible = false

[node name="Crouched Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35, 0)
visible = false

[node name="FootstepPlayer" parent="." instance=ExtResource("5_tcv2l")]

[editable path="Elon Model"]
